### 网关主流程分析

------



- ###### 开发一个中间件产品，考虑这个产品实现的目的，价值是什么，职责？

  - 权限认证、流量控制、黑白名单过滤、灰度路由、请求转发（重定向）、跨域处理、流量统计分析...

- ###### 网关的请求定义？

  - 承接所有外部的HTTP服务，把他转换成内部的具体服务协议；（dubbo、springMVC、thrift、Grpc）

- ###### 一次HTTP请求会经历哪些环节？

  - HttpServer：接收外部请求的服务器

  - 解析HTTP请求

  - 资源定位：根据一个请求的路径（Path）携带的参数（Header），定位当前所访问的资源是什么？（商品、用户服务）

  - 拉取实例列表：（网关启动的时候，加载一些资源信息）

  - 负载均衡：LoadBalance：RR、随机、加权重...

  - 发送请求：（HttpClient）
